#!/usr/bin/env python

import textwrap
from argparse import ArgumentParser


OPERANDI = {
    "bg-main": "ffffff",
    "bg-dim": "f0f0f0",
    "fg-main": "000000",
    "fg-dim": "595959",
    "fg-alt": "193668",
    "bg-active": "c4c4c4",
    "bg-inactive": "e0e0e0",
    "border": "9f9f9f",
    "red": "a60000",
    "red-warmer": "972500",
    "red-cooler": "a0132f",
    "red-faint": "7f0000",
    "red-intense": "d00000",
    "green": "006800",
    "green-warmer": "316500",
    "green-cooler": "00663f",
    "green-faint": "2a5045",
    "green-intense": "008900",
    "yellow": "6f5500",
    "yellow-warmer": "884900",
    "yellow-cooler": "7a4f2f",
    "yellow-faint": "624416",
    "yellow-intense": "808000",
    "blue": "0031a9",
    "blue-warmer": "354fcf",
    "blue-cooler": "0000b0",
    "blue-faint": "003497",
    "blue-intense": "0000ff",
    "magenta": "721045",
    "magenta-warmer": "8f0075",
    "magenta-cooler": "531ab6",
    "magenta-faint": "7c318f",
    "magenta-intense": "dd22dd",
    "cyan": "005e8b",
    "cyan-warmer": "3f578f",
    "cyan-cooler": "005f5f",
    "cyan-faint": "005077",
    "cyan-intense": "008899",
    "rust": "8a290f",
    "gold": "80601f",
    "olive": "56692d",
    "slate": "2f3f83",
    "indigo": "4a3a8a",
    "maroon": "731c52",
    "pink": "7b435c",
    "bg-red-intense": "ff8f88",
    "bg-green-intense": "8adf80",
    "bg-yellow-intense": "f3d000",
    "bg-blue-intense": "bfc9ff",
    "bg-magenta-intense": "dfa0f0",
    "bg-cyan-intense": "a4d5f9",
    "bg-red-subtle": "ffcfbf",
    "bg-green-subtle": "b3fabf",
    "bg-yellow-subtle": "fff576",
    "bg-blue-subtle": "ccdfff",
    "bg-magenta-subtle": "ffddff",
    "bg-cyan-subtle": "bfefff",
    "bg-red-nuanced": "fff1f0",
    "bg-green-nuanced": "ecf7ed",
    "bg-yellow-nuanced": "fff3da",
    "bg-blue-nuanced": "f3f3ff",
    "bg-magenta-nuanced": "fdf0ff",
    "bg-cyan-nuanced": "ebf6fa",
    "bg-graph-red-0": "ef7969",
    "bg-graph-red-1": "ffaab4",
    "bg-graph-green-0": "4faa09",
    "bg-graph-green-1": "8fef00",
    "bg-graph-yellow-0": "ffcf00",
    "bg-graph-yellow-1": "f9ff00",
    "bg-graph-blue-0": "7090ff",
    "bg-graph-blue-1": "9fc6ff",
    "bg-graph-magenta-0": "e07fff",
    "bg-graph-magenta-1": "fad0ff",
    "bg-graph-cyan-0": "70d3f0",
    "bg-graph-cyan-1": "afefff",
    "bg-completion": "c0deff",
    "bg-hover": "94d4ff",
    "bg-hover-secondary": "f5d0a0",
    "bg-hl-line": "d0d6ec",
    "bg-paren-match": "5fcfff",
    "bg-paren-expression": "efd3f5",
    "bg-region": "bcbcbc",
    "bg-region-subtle": "f0e0cc",
    "bg-char-0": "7feaff",
    "bg-char-1": "ffaaff",
    "bg-char-2": "dff000",
    "bg-mode-line-active": "c8c8c8",
    "fg-mode-line-active": "000000",
    "border-mode-line-active": "5a5a5a",
    "bg-mode-line-inactive": "e6e6e6",
    "fg-mode-line-inactive": "585858",
    "border-mode-line-inactive": "a3a3a3",
    "modeline-err": "7f0000",
    "modeline-warning": "5f0070",
    "modeline-info": "002580",
    "bg-tab-bar": "dfdfdf",
    "bg-tab-current": "ffffff",
    "bg-tab-other": "c2c2c2",
    "bg-added": "c1f2d1",
    "bg-added-faint": "d8f8e1",
    "bg-added-refine": "aee5be",
    "bg-added-intense": "8cca8c",
    "fg-added": "005000",
    "fg-added-intense": "006700",
    "bg-changed": "ffdfa9",
    "bg-changed-faint": "ffefbf",
    "bg-changed-refine": "fac090",
    "bg-changed-intense": "d7c20a",
    "fg-changed": "553d00",
    "fg-changed-intense": "655000",
    "bg-removed": "ffd8d5",
    "bg-removed-faint": "ffe9e9",
    "bg-removed-refine": "f3b5af",
    "bg-removed-intense": "d84a4f",
    "fg-removed": "8f1313",
    "fg-removed-intense": "aa2222",
}

VIVENDI = {
    "bg-main": "000000",
    "bg-dim": "1e1e1e",
    "fg-main": "ffffff",
    "fg-dim": "989898",
    "fg-alt": "c6daff",
    "bg-active": "535353",
    "bg-inactive": "303030",
    "border": "646464",
    "red": "ff5f59",
    "red-warmer": "ff6b55",
    "red-cooler": "ff7f9f",
    "red-faint": "ff9580",
    "red-intense": "ff5f5f",
    "green": "44bc44",
    "green-warmer": "70b900",
    "green-cooler": "00c06f",
    "green-faint": "88ca9f",
    "green-intense": "44df44",
    "yellow": "d0bc00",
    "yellow-warmer": "fec43f",
    "yellow-cooler": "dfaf7a",
    "yellow-faint": "d2b580",
    "yellow-intense": "efef00",
    "blue": "2fafff",
    "blue-warmer": "79a8ff",
    "blue-cooler": "00bcff",
    "blue-faint": "82b0ec",
    "blue-intense": "338fff",
    "magenta": "feacd0",
    "magenta-warmer": "f78fe7",
    "magenta-cooler": "b6a0ff",
    "magenta-faint": "caa6df",
    "magenta-intense": "ff66ff",
    "cyan": "00d3d0",
    "cyan-warmer": "4ae2f0",
    "cyan-cooler": "6ae4b9",
    "cyan-faint": "9ac8e0",
    "cyan-intense": "00eff0",
    "rust": "db7b5f",
    "gold": "c0965b",
    "olive": "9cbd6f",
    "slate": "76afbf",
    "indigo": "9099d9",
    "maroon": "cf7fa7",
    "pink": "d09dc0",
    "bg-red-intense": "9d1f1f",
    "bg-green-intense": "2f822f",
    "bg-yellow-intense": "7a6100",
    "bg-blue-intense": "1640b0",
    "bg-magenta-intense": "7030af",
    "bg-cyan-intense": "2266ae",
    "bg-red-subtle": "620f2a",
    "bg-green-subtle": "00422a",
    "bg-yellow-subtle": "4a4000",
    "bg-blue-subtle": "242679",
    "bg-magenta-subtle": "552f5f",
    "bg-cyan-subtle": "004065",
    "bg-red-nuanced": "2c0614",
    "bg-green-nuanced": "001904",
    "bg-yellow-nuanced": "221000",
    "bg-blue-nuanced": "0f0e39",
    "bg-magenta-nuanced": "230631",
    "bg-cyan-nuanced": "041529",
    "bg-graph-red-0": "b52c2c",
    "bg-graph-red-1": "702020",
    "bg-graph-green-0": "4fd100",
    "bg-graph-green-1": "007800",
    "bg-graph-yellow-0": "f1e00a",
    "bg-graph-yellow-1": "b08600",
    "bg-graph-blue-0": "2fafef",
    "bg-graph-blue-1": "1f2f8f",
    "bg-graph-magenta-0": "bf94fe",
    "bg-graph-magenta-1": "5f509f",
    "bg-graph-cyan-0": "47dfea",
    "bg-graph-cyan-1": "00808f",
    "bg-completion": "2f447f",
    "bg-hover": "004f70",
    "bg-hover-secondary": "654a39",
    "bg-hl-line": "2f3849",
    "bg-paren-match": "2f7f9f",
    "bg-paren-expression": "453040",
    "bg-region": "5c5c5c",
    "bg-region-subtle": "4f1c2f",
    "bg-char-0": "0050af",
    "bg-char-1": "7f1f7f",
    "bg-char-2": "625a00",
    "bg-mode-line-active": "505050",
    "fg-mode-line-active": "ffffff",
    "border-mode-line-active": "959595",
    "bg-mode-line-inactive": "2d2d2d",
    "fg-mode-line-inactive": "969696",
    "border-mode-line-inactive": "606060",
    "modeline-err": "ffa9bf",
    "modeline-warning": "dfcf43",
    "modeline-info": "9fefff",
    "bg-tab-bar": "313131",
    "bg-tab-current": "000000",
    "bg-tab-other": "545454",
    "bg-added": "00381f",
    "bg-added-faint": "002910",
    "bg-added-refine": "034f2f",
    "bg-added-intense": "237f3f",
    "fg-added": "a0e0a0",
    "fg-added-intense": "80e080",
    "bg-changed": "363300",
    "bg-changed-faint": "2a1f00",
    "bg-changed-refine": "4a4a00",
    "bg-changed-intense": "8a7a00",
    "fg-changed": "efef80",
    "fg-changed-intense": "c0b05f",
    "bg-removed": "4f1119",
    "bg-removed-faint": "380a0f",
    "bg-removed-refine": "781a1f",
    "bg-removed-intense": "b81a1f",
    "fg-removed": "ffbfbf",
    "fg-removed-intense": "ff9095",
}


def generate_foot(palette):
    config = f"""
        [colors]
        foreground={palette["fg-main"]}
        background={palette["bg-main"]}

        regular0={palette["bg-main"]}
        regular1={palette["red"]}
        regular2={palette["green"]}
        regular3={palette["yellow"]}
        regular4={palette["blue"]}
        regular5={palette["magenta"]}
        regular6={palette["cyan"]}
        regular7={palette["fg-main"]}

        bright0={palette["bg-dim"]}
        bright1={palette["red-intense"]}
        bright2={palette["green-intense"]}
        bright3={palette["yellow-intense"]}
        bright4={palette["blue-cooler"]}
        bright5={palette["magenta-intense"]}
        bright6={palette["cyan-intense"]}
        bright7={palette["fg-dim"]}
    """
    return textwrap.dedent(config[1:])


def generate_kitty(palette):
    config = f"""
        foreground #{palette["fg-main"]}
        background #{palette["bg-main"]}

        active_tab_background #{palette["bg-tab-current"]}
        active_tab_foreground #{palette["fg-alt"]}
        inactive_tab_background #{palette["bg-tab-other"]}
        inactive_tab_foreground #{palette["fg-main"]}

        active_border_color #{palette["blue-warmer"]}
        inactive_border_color #{palette["border"]}

        color0 #{palette["bg-main"]}
        color1 #{palette["red"]}
        color2 #{palette["green"]}
        color3 #{palette["yellow"]}
        color4 #{palette["blue"]}
        color5 #{palette["magenta"]}
        color6 #{palette["cyan"]}
        color7 #{palette["fg-main"]}

        color8 #{palette["bg-dim"]}
        color9 #{palette["red-intense"]}
        color10 #{palette["green-intense"]}
        color11 #{palette["yellow-intense"]}
        color12 #{palette["blue-cooler"]}
        color13 #{palette["magenta-intense"]}
        color14 #{palette["cyan-intense"]}
        color15 #{palette["fg-dim"]}
    """
    return textwrap.dedent(config[1:])


def main():
    parser = ArgumentParser()
    parser.add_argument("application", choices=["foot", "kitty"])
    parser.add_argument("--palette", choices=["operandi", "vivendi"], default="vivendi")
    args = parser.parse_args()

    application = args.application
    palette = OPERANDI if args.palette == "operandi" else VIVENDI

    if application == "foot":
        print(generate_foot(palette), end="")
    elif application == "kitty":
        print(generate_kitty(palette), end="")


if __name__ == "__main__":
    main()
